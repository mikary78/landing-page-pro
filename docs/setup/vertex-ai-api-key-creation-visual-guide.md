# Vertex AI API 키 생성 시각 가이드

## 작성일: 2026-01-11

## 현재 화면에서 API 키 생성하기

### 단계별 안내

#### 1단계: "사용자 인증 정보 만들기" 버튼 클릭

현재 화면 상단 우측에 있는 **"+ 사용자 인증 정보 만들기"** 버튼을 클릭하세요.

```
┌─────────────────────────────────────────────────┐
│  [+ 사용자 인증 정보 만들기 ▼]  [🗑️ 삭제]      │
└─────────────────────────────────────────────────┘
```

#### 2단계: 드롭다운 메뉴에서 "API 키" 선택

버튼을 클릭하면 드롭다운 메뉴가 나타납니다. 다음 옵션 중에서 선택:

- **API 키** ← 이것을 선택하세요
- OAuth 클라이언트 ID
- 서비스 계정

#### 3단계: API 키 생성 완료

API 키가 생성되면 팝업 창이 나타납니다:

```
┌─────────────────────────────────────────────┐
│  API 키 생성됨                              │
├─────────────────────────────────────────────┤
│  API 키:                                    │
│  AIzaSyDzll_sialr7wIk764qJf8-sQrdqiqqNQ4    │
│  [복사]                                     │
├─────────────────────────────────────────────┤
│  ⚠️ 이 키를 안전하게 보관하세요.           │
│  이 대화상자를 닫으면 다시 볼 수 없습니다.  │
├─────────────────────────────────────────────┤
│  [제한사항] [닫기]                          │
└─────────────────────────────────────────────┘
```

**중요**: 
- API 키를 **즉시 복사**하세요
- 이 창을 닫으면 다시 볼 수 없습니다
- 나중에 다시 보려면 새로 생성해야 합니다

#### 4단계: API 키 복사 및 저장

1. **복사** 버튼을 클릭하여 API 키를 클립보드에 복사
2. `azure-functions/local.settings.json` 파일에 붙여넣기:

```json
{
  "Values": {
    "VERTEX_API_KEY": "복사한-API-키-여기에-붙여넣기",
    "VERTEX_PROJECT_ID": "your-project-id",
    "VERTEX_LOCATION": "us-central1"
  }
}
```

#### 5단계: (선택사항) API 키 제한사항 설정

**보안을 위해 권장**: API 키 제한사항 설정

1. 생성된 API 키 옆에 있는 **연필 아이콘 (✏️)** 클릭
2. **제한사항** 탭에서 설정:

   **애플리케이션 제한사항**:
   - HTTP 리퍼러(웹사이트): 특정 도메인만 허용
   - IP 주소: Azure Functions의 고정 IP 주소 (있는 경우)

   **API 제한사항**:
   - 키 제한: **Vertex AI API** 선택
   - 또는 "모든 API 허용" (개발용)

3. **저장** 클릭

---

## 완료 후 확인

API 키 생성 후, "API 키" 섹션에 다음과 같이 표시됩니다:

```
┌─────────────────────────────────────────────────────────────┐
│ API 키                                                      │
├──────────┬──────────────┬──────────┬──────────┬──────────┤
│ 이름     │ Bound account│ 생성일    │ 제한사항 │ 작업     │
├──────────┼──────────────┼──────────┼──────────┼──────────┤
│ API 키 1 │              │ 2026.1.11 │ 제한됨   │ ✏️ 🗑️   │
└──────────┴──────────────┴──────────┴──────────┴──────────┘
```

---

## 문제 해결

### 문제: "+ 사용자 인증 정보 만들기" 버튼이 보이지 않음

**해결 방법**:
1. 페이지를 새로고침 (F5)
2. 올바른 프로젝트가 선택되어 있는지 확인 (상단 프로젝트 선택 드롭다운)
3. 권한이 있는지 확인 (프로젝트 소유자 또는 편집자 권한 필요)

### 문제: API 키 생성 후 팝업이 나타나지 않음

**해결 방법**:
1. 브라우저 팝업 차단 설정 확인
2. 페이지를 새로고침하고 다시 시도
3. 다른 브라우저에서 시도

### 문제: API 키를 복사하지 못함

**해결 방법**:
1. API 키 텍스트를 직접 선택하여 복사 (Ctrl+C)
2. 생성 후 "사용자 인증 정보" 페이지에서 API 키 옆 연필 아이콘 클릭하여 다시 확인

---

## 다음 단계

API 키 생성 완료 후:

1. ✅ `local.settings.json`에 API 키 추가
2. ✅ `VERTEX_PROJECT_ID` 설정 확인
3. ✅ `VERTEX_LOCATION` 설정 확인
4. 🔄 이미지 생성 기능 테스트

---

**참고**: 
- API 키는 한 번만 표시되므로 안전하게 보관하세요
- 유출되면 즉시 삭제하고 새로 생성하세요
- 프로덕션 환경에서는 API 키 제한사항을 반드시 설정하세요
